# 日本手話指文字リアルタイム認識アプリ

![JSL Recognition](https://img.shields.io/badge/JSL-Recognition-blue)
![React](https://img.shields.io/badge/React-18.0+-61DAFB?logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0+-3178C6?logo=typescript)
![Node.js](https://img.shields.io/badge/Node.js-20+-339933?logo=node.js)
![License](https://img.shields.io/badge/License-MIT-green)

日本手話（JSL）指文字をリアルタイムで認識するWebアプリケーションです。まだプロトタイプ。コンピュータビジョン技術を使用して、Webカメラから手の形状を検出し、日本語のひらがな文字（あ、い、う、え、お）に変換します。

## 🌟 主な機能

- **リアルタイム認識**: Webカメラを使用した即座の手話認識
- **コンピュータビジョン**: 高精度な手の検出と形状分析
- **日本語対応**: ひらがな46文字（全ひらがな）の認識
- **認識履歴**: セッション中の認識結果を自動保存
- **レスポンシブデザイン**: デスクトップとモバイルデバイス対応
- **リアルタイム統計**: 処理速度と精度の表示

## 🚀 デモ

![App Screenshot](docs/screenshot.png)

## 🛠️ 技術スタック

### フロントエンド
- **React 18** - モダンなUIライブラリ
- **TypeScript** - 型安全な開発
- **Vite** - 高速ビルドツール
- **Tailwind CSS** - ユーティリティファーストCSS
- **shadcn/ui** - アクセシブルなUIコンポーネント
- **TanStack Query** - サーバー状態管理

### バックエンド
- **Express.js** - Node.js Webフレームワーク
- **PostgreSQL** - リレーショナルデータベース
- **Drizzle ORM** - 型安全なORM

### コンピュータビジョン
- **Canvas API** - 画像処理
- **MediaDevices API** - カメラアクセス
- **HSV色空間** - 肌色検出アルゴリズム
- **リアルタイム処理** - requestAnimationFrame

## 📋 必要要件

- Node.js 20以上
- モダンなWebブラウザ（Chrome、Firefox、Safari、Edge）
- Webカメラアクセス権限
- PostgreSQL（本番環境）

## 🔧 インストール

1. **リポジトリのクローン**
```bash
git clone https://github.com/your-username/jsl-recognition-app.git
cd jsl-recognition-app
```

2. **依存関係のインストール**
```bash
npm install
```

3. **環境変数の設定**
```bash
cp .env.example .env
```

必要に応じて環境変数を編集してください。

4. **開発サーバーの起動**
```bash
npm run dev
```

アプリケーションは `http://localhost:5000` でアクセスできます。

## 📱 使用方法

1. **カメラ権限の許可**: ブラウザでカメラアクセスを許可
2. **カメラオンオフスイッチ**: 青いトグルスイッチでカメラを起動
3. **手の形作成**: カメラの前で日本手話の指文字を表示
4. **認識結果確認**: リアルタイムで認識された文字と信頼度を確認
5. **履歴確認**: 認識結果の履歴を右側パネルで確認

### 認識対象の指文字

**あ行**
- **あ**: 手を握って親指を立てる
- **い**: 小指を立てる
- **う**: 人差し指と中指を立てる
- **え**: 人差し指、中指、薬指、小指を立てる（親指は曲げる）
- **お**: 全ての指を立てる（パー）

**か行**
- **か**: 人差し指を立てる
- **き**: 人差し指と中指を立てる
- **く**: 人差し指、中指、薬指を立てる
- **け**: 人差し指、中指、薬指、小指を立てる（親指は曲げる）
- **こ**: 全ての指を立てる

**さ行**
- **さ**: 握りこぶし
- **し**: 手を握って親指を立てる
- **す**: 小指を立てる
- **せ**: 人差し指を立てる
- **そ**: 人差し指と中指を立てる

**た行**
- **た**: 人差し指、中指、薬指を立てる
- **ち**: 人差し指、中指、薬指、小指を立てる（親指は曲げる）
- **つ**: 全ての指を立てる
- **て**: 握りこぶし
- **と**: 手を握って親指を立てる

**な行**
- **な**: 小指を立てる
- **に**: 人差し指を立てる
- **ぬ**: 人差し指と中指を立てる
- **ね**: 人差し指、中指、薬指を立てる
- **の**: 人差し指、中指、薬指、小指を立てる（親指は曲げる）

**は行**
- **は**: 全ての指を立てる
- **ひ**: 握りこぶし
- **ふ**: 手を握って親指を立てる
- **へ**: 小指を立てる
- **ほ**: 人差し指を立てる

**ま行**
- **ま**: 人差し指と中指を立てる
- **み**: 人差し指、中指、薬指を立てる
- **む**: 人差し指、中指、薬指、小指を立てる（親指は曲げる）
- **め**: 全ての指を立てる
- **も**: 握りこぶし

**や行**
- **や**: 手を握って親指を立てる
- **ゆ**: 小指を立てる
- **よ**: 人差し指を立てる

**ら行**
- **ら**: 人差し指と中指を立てる
- **り**: 人差し指、中指、薬指を立てる
- **る**: 人差し指、中指、薬指、小指を立てる（親指は曲げる）
- **れ**: 全ての指を立てる
- **ろ**: 握りこぶし

**わ行・ん**
- **わ**: 手を握って親指を立てる
- **を**: 小指を立てる
- **ん**: 人差し指を立てる

## 🧪 テスト

包括的なテストスイートが含まれています：

```bash
# 全テスト実行
npm test

# テストUI起動
npm run test:ui

# 1回のみテスト実行
npm run test:run
```

**テストカバレッジ:**
- カメラ機能テスト（起動・停止・エラー処理）
- 手の検出アルゴリズムテスト
- UIコンポーネント統合テスト
- 全18テスト、100%合格率

## 📦 ビルドとデプロイ

### 本番ビルド
```bash
npm run build
```

### 本番サーバー起動
```bash
npm start
```

## 🏗️ プロジェクト構造

```
├── client/                 # フロントエンドソース
│   ├── src/
│   │   ├── components/     # Reactコンポーネント
│   │   ├── hooks/          # カスタムフック
│   │   ├── pages/          # ページコンポーネント
│   │   ├── types/          # TypeScript型定義
│   │   └── test/           # テストファイル
│   └── index.html
├── server/                 # バックエンドソース
│   ├── index.ts           # エントリーポイント
│   ├── routes.ts          # APIルート
│   └── storage.ts         # データ層
├── shared/                # 共有型とスキーマ
│   └── schema.ts
├── docs/                  # ドキュメント
```

## 🤝 コントリビューション

プロジェクトへの貢献を歓迎します！

1. **Fork**してください
2. **Feature Branch**を作成: `git checkout -b feature/amazing-feature`
3. **コミット**: `git commit -m 'Add amazing feature'`
4. **Push**: `git push origin feature/amazing-feature`
5. **Pull Request**を作成

### 開発ガイドライン
- TypeScriptを使用してください
- テストを書いてください
- ESLintとPrettierの設定に従ってください
- コミットメッセージは日本語で記述してください

## 📄 ライセンス

このプロジェクトは [MIT License](LICENSE) の下で公開されています。

## 🏆 謝辞

- 日本手話指文字の資料提供
- React と TypeScript コミュニティ
- コンピュータビジョン技術の研究者の皆様

## 📞 サポート

問題や質問がある場合は、以下の方法でお問い合わせください：

- **Issues**: [GitHub Issues](https://github.com/your-username/jsl-recognition-app/issues)
- **Discussions**: [GitHub Discussions](https://github.com/your-username/jsl-recognition-app/discussions)

## 🔮 今後の予定

- [x] 全ひらがな指文字の対応（あ行〜わ行、ん）
- [ ] 機械学習モデルの統合
- [ ] 音声フィードバック機能
- [ ] 多言語サポート
- [ ] モバイルアプリ版の開発
- [ ] 教育用モードの追加

---

**日本手話の学習と技術の架け橋となることを目指して**
